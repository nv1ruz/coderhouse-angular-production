(self.webpackChunkvideoclub_martinez=self.webpackChunkvideoclub_martinez||[]).push([[81],{1081:(t,i,e)=>{"use strict";e.r(i),e.d(i,{MoviesModule:()=>x});var o=e(8583),n=e(2271),r=e(8663),c=e(639),a=e(438),s=e(7223),d=e(1400);function p(t,i){if(1&t){const t=c.EpF();c.TgZ(0,"button",15),c.NdJ("click",function(){c.CHM(t);const i=c.oxw().$implicit;return c.oxw().addMovie(i)}),c._uU(1," Agregar "),c.qZA()}}function l(t,i){if(1&t){const t=c.EpF();c.TgZ(0,"button",16),c.NdJ("click",function(){c.CHM(t);const i=c.oxw().$implicit;return c.oxw().deleteMovie(i.id)}),c._uU(1," Quitar "),c.qZA()}}function m(t,i){if(1&t){const t=c.EpF();c.TgZ(0,"div",4),c.TgZ(1,"div",5),c.TgZ(2,"div",6),c._UZ(3,"img",7),c.qZA(),c.TgZ(4,"div",8),c.TgZ(5,"p",9),c._uU(6),c.qZA(),c.TgZ(7,"p",10),c._uU(8),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",11),c.TgZ(10,"button",12),c.NdJ("click",function(){const i=c.CHM(t).$implicit;return c.oxw().goToDetail(i.id)}),c._uU(11," Detalle "),c.qZA(),c.YNc(12,p,2,0,"button",13),c.YNc(13,l,2,0,"button",14),c.qZA(),c.qZA()}if(2&t){const t=i.$implicit,e=c.oxw();c.xp6(3),c.Q6J("src",t.image,c.LSH)("alt",t.title),c.xp6(3),c.Oqu(t.title),c.xp6(2),c.hij("A\xf1o: ",t.year,""),c.xp6(4),c.Q6J("ngIf",!e.existMovieInCart(t.id)),c.xp6(1),c.Q6J("ngIf",e.existMovieInCart(t.id))}}function v(t,i){if(1&t){const t=c.EpF();c.TgZ(0,"button",20),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return i.addMovie(i.movie)}),c._uU(1," Agregar a carrito "),c.qZA()}}function u(t,i){if(1&t){const t=c.EpF();c.TgZ(0,"button",21),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return i.deleteMovie(i.movie.id)}),c._uU(1," Quitar del carrito "),c.qZA()}}function g(t,i){if(1&t&&(c.ynx(0),c.YNc(1,v,2,0,"button",18),c.YNc(2,u,2,0,"button",19),c.BQk()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",!t.existMovieInCart(t.movie.id)),c.xp6(1),c.Q6J("ngIf",t.existMovieInCart(t.movie.id))}}const b=[{path:"",component:(()=>{class t{constructor(t,i,e){this._moviesApi=t,this.router=i,this._cart=e,this.movies=[]}ngOnInit(){this.loadMovies()}ngOnDestroy(){this.moviesSubscription&&this.moviesSubscription.unsubscribe()}loadMovies(){this.moviesSubscription=this._moviesApi.getMovies().subscribe(t=>{console.log(t),t.ok&&(this.movies=t.data)})}goToDetail(t){this.router.navigateByUrl(`/movies/${t}`)}addMovie(t){this._cart.addProduct(t.id,t.title,t.price)}deleteMovie(t){this._cart.deleteProduct(t)}existMovieInCart(t){return this._cart.existProduct(t)}}return t.\u0275fac=function(i){return new(i||t)(c.Y36(a.u),c.Y36(r.F0),c.Y36(s.N))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-movies-list"]],decls:4,vars:1,consts:[["title","Listado de peliculas"],[1,"main-page-container"],[1,"card-movie-container"],["class","card-movie",4,"ngFor","ngForOf"],[1,"card-movie"],[1,"card-movie-body"],[1,"card-movie-image-wrapper"],[1,"card-movie__image",3,"src","alt"],[1,"card-movie-data"],[1,"card-movie__name"],[1,"card-movie__description"],[1,"card-movie-footer"],["type","button",1,"btn-primary","w-100","mr-10",3,"click"],["type","button","class","btn-create w-100",3,"click",4,"ngIf"],["type","button","class","btn-delete w-100",3,"click",4,"ngIf"],["type","button",1,"btn-create","w-100",3,"click"],["type","button",1,"btn-delete","w-100",3,"click"]],template:function(t,i){1&t&&(c._UZ(0,"app-navbar",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.YNc(3,m,14,6,"div",3),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Q6J("ngForOf",i.movies))},directives:[d.S,o.sg,o.O5],styles:[".card-movie-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding-bottom:10px}.card-movie[_ngcontent-%COMP%]{margin:10px;min-width:150px;border-radius:4px;box-shadow:0 4px 8px 0 #0000000f;overflow:hidden;transition:all .1s ease-in-out}.card-movie[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px 0 #0003}.card-movie-body[_ngcontent-%COMP%]{padding:10px;background-color:var(--card-body-bg)}.card-movie-image-wrapper[_ngcontent-%COMP%]{width:240px;height:340px;overflow:hidden;background-color:var(--bg-primary)}.card-movie__image[_ngcontent-%COMP%]{width:100%;height:100%}.card-movie__name[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;font-size:16px;font-weight:500;color:var(--txt-primary)}.card-movie__description[_ngcontent-%COMP%]{font-size:14px;color:var(--txt-primary);margin-bottom:5px;white-space:break-spaces}.card-movie-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;background-color:var(--card-footer-bg);border-top:1px solid var(--card-border)}@media (max-width: 576px){.card-movie-image-wrapper[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:100%}}"]}),t})()},{path:":movieId",component:(()=>{class t{constructor(t,i,e,o){this.route=t,this.router=i,this._moviesApi=e,this._cart=o,this.movieId=""}ngOnInit(){this.getParam()}ngOnDestroy(){this.paramSubscription&&this.paramSubscription.unsubscribe(),this.movieSubscription&&this.movieSubscription.unsubscribe()}getParam(){this.paramSubscription=this.route.paramMap.subscribe(t=>{this.movieId=t.get("movieId"),this.loadMovie()})}loadMovie(){this.movieSubscription=this._moviesApi.getMovieById(this.movieId).subscribe(t=>{console.log(t),t.ok&&(this.movie=t.data)})}goBack(){this.router.navigateByUrl("movies")}addMovie(t){this._cart.addProduct(t.id,t.title,t.price)}deleteMovie(t){this._cart.deleteProduct(t)}existMovieInCart(t){return this._cart.existProduct(t)}}return t.\u0275fac=function(i){return new(i||t)(c.Y36(r.gz),c.Y36(r.F0),c.Y36(a.u),c.Y36(s.N))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-movie-detail"]],decls:27,vars:7,consts:[["title","Detalle de pelicula"],[1,"main-page-container"],[1,"movie"],[1,"movie-body","row"],[1,"col-12","col-md-4","p-10",2,"box-sizing","border-box"],[1,"movie-image-wrapper"],[1,"movie__image",3,"src","alt"],[1,"col-12","col-md-8","p-10",2,"box-sizing","border-box"],[1,"movie-data"],[1,"movie__title"],[1,"movie__year"],[1,"mb-10"],[1,"form-control-label"],[1,"movie__price"],["readonly","",1,"movie__description"],[1,"movie-footer"],["type","button",1,"btn-secondary","w-100","mr-10",3,"click"],[4,"ngIf"],["type","button","class","btn-create w-100",3,"click",4,"ngIf"],["type","button","class","btn-delete w-100",3,"click",4,"ngIf"],["type","button",1,"btn-create","w-100",3,"click"],["type","button",1,"btn-delete","w-100",3,"click"]],template:function(t,i){1&t&&(c._UZ(0,"app-navbar",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c._UZ(6,"img",6),c.qZA(),c.qZA(),c.TgZ(7,"div",7),c.TgZ(8,"div",8),c.TgZ(9,"p",9),c._uU(10),c.qZA(),c.TgZ(11,"p",10),c._uU(12),c.qZA(),c.qZA(),c.TgZ(13,"div",11),c.TgZ(14,"span",12),c._uU(15,"Precio"),c.qZA(),c.TgZ(16,"p",13),c._uU(17),c.qZA(),c.qZA(),c.TgZ(18,"div"),c.TgZ(19,"span",12),c._uU(20,"Descripci\xf3n"),c.qZA(),c.TgZ(21,"p",14),c._uU(22),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",15),c.TgZ(24,"button",16),c.NdJ("click",function(){return i.goBack()}),c._uU(25," Volver atras "),c.qZA(),c.YNc(26,g,3,2,"ng-container",17),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("src",null==i.movie?null:i.movie.image,c.LSH)("alt",null==i.movie?null:i.movie.title),c.xp6(4),c.Oqu(null==i.movie?null:i.movie.title),c.xp6(2),c.Oqu(null==i.movie?null:i.movie.year),c.xp6(5),c.hij("$",null==i.movie?null:i.movie.price,""),c.xp6(5),c.Oqu(null==i.movie?null:i.movie.description),c.xp6(4),c.Q6J("ngIf",i.movie))},directives:[d.S,o.O5],styles:[".movie[_ngcontent-%COMP%]{margin-top:10px;min-width:150px;border-radius:4px;box-shadow:0 4px 8px 0 #0000000f;overflow:hidden;transition:all .2s ease-in-out}.movie-body[_ngcontent-%COMP%]{padding:10px;background-color:var(--card-body-bg)}.movie-image-wrapper[_ngcontent-%COMP%]{max-width:290px;height:425px;overflow:hidden;background-color:#bebebe}.movie-data[_ngcontent-%COMP%]{margin-bottom:10px}.movie__image[_ngcontent-%COMP%]{width:100%;height:100%}.movie__title[_ngcontent-%COMP%]{font-size:26px;font-weight:600}.movie__title[_ngcontent-%COMP%], .movie__year[_ngcontent-%COMP%]{margin-bottom:5px;color:var(--txt-primary)}.movie__year[_ngcontent-%COMP%]{font-size:20px;white-space:break-spaces}.movie__price[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--txt-primary)}.movie__description[_ngcontent-%COMP%]{font-size:16px;color:var(--txt-secondary);width:100%;border:none}.movie-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;background-color:var(--card-footer-bg);border-top:1px solid var(--card-border)}"]}),t})()},{path:"",pathMatch:"full",redirectTo:""}];let _=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[o.ez,_,n.m]]}),t})()}}]);